<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grimório Digital</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@300;400;500&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        cinzel: ['Cinzel', 'serif'],
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        theme: {
                            bg: '#0a0a0c',
                            panel: '#0f0f12',
                            border: '#2a2a2e',
                            text: '#e8e4dc',
                            blue: '#4a9eff',
                            orange: '#ff6b35',
                        }
                    }
                }
            }
        }

        // Sistema de Perfis
        window.addEventListener('load', function() {
            carregarPerfilAtivo();
        });
    </script>

    <style>
        body { background-color: #0a0a0c; color: #e8e4dc; }
        
        /* Scrollbar Customizada */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0a0a0c; }
        ::-webkit-scrollbar-thumb { background: #2a2a2e; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #4a9eff; }

        /* Efeitos de Glow */
        .text-shadow-glow { text-shadow: 0 0 10px rgba(74, 158, 255, 0.5); }
        .hover-glow-blue:hover { box-shadow: 0 0 20px rgba(74, 158, 255, 0.15); border-color: rgba(74, 158, 255, 0.5); }

        /* Animações */
        .anim-entry {
            animation: fadeInUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        .anim-delay-1 { animation-delay: 0.2s; }
        .anim-delay-2 { animation-delay: 0.4s; }
        .anim-delay-3 { animation-delay: 0.6s; }

        @keyframes fadeInUp {
            to { opacity: 1; transform: translateY(0); }
        }

        /* Classes para Dropdown */
        .dropdown-content {
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.2s ease-in-out;
            pointer-events: none;
        }

        .dropdown-content.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            pointer-events: auto;
        }

        .chevron { transition: transform 0.3s ease; }
        .chevron.rotate { transform: rotate(180deg); }
    </style>
</head>
<body class="min-h-screen font-sans flex flex-col">

    <!-- Navegação Superior (Hub) -->
    <nav class="w-full bg-[#0f0f12]/95 backdrop-blur-sm border-b border-theme-border sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex items-center justify-center flex-wrap" id="nav-container">
                
                <!-- PERFIL (Ficha + Status) -->
                <div class="relative group dropdown-container">
                    <button onclick="toggleMenu('menu-personagem', this)" class="nav-btn flex items-center gap-2 px-5 py-4 text-[#e8e4dc] font-medium tracking-wide transition-all duration-300 hover:text-[#4a9eff] hover:bg-[#1a1a1e] border-b-2 border-transparent hover:border-[#4a9eff]">
                        <i data-lucide="user" class="w-4 h-4"></i>
                        <span class="font-cinzel">Perfil</span>
                        <i data-lucide="chevron-down" class="w-4 h-4 chevron"></i>
                    </button>
                    <div id="menu-personagem" class="dropdown-content absolute top-full left-0 min-w-[220px] bg-[#0f0f12] border border-[#2a2a2e] shadow-2xl shadow-black/50 z-50">
                        <a href="ficha.html" class="flex items-center gap-2 px-5 py-3 text-[#a0a0a0] text-sm transition-all duration-300 hover:bg-[#4a9eff]/10 hover:text-[#4a9eff] hover:pl-7 border-l-2 border-transparent hover:border-[#4a9eff]">
                            <i data-lucide="scroll-text" class="w-3 h-3"></i> Ficha (Lore & Corpo)
                        </a>
                        <!-- No index.html, onde você tem os cards das páginas -->
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- ... outros cards ... -->
                            
                            <!-- Card para Status -->
                            <a href="status.html" class="group bg-theme-panel border border-theme-border p-6 rounded-lg hover:border-theme-orange transition-all hover:scale-[1.02]">
                                <div class="flex items-center gap-4 mb-4">
                                    <div class="p-3 rounded-lg bg-theme-orange/10 border border-theme-orange/20">
                                        <i data-lucide="zap" class="w-6 h-6 text-theme-orange"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-cinzel font-bold text-lg">Status</h3>
                                        <p class="text-sm text-gray-400">Atributos e Progressão</p>
                                    </div>
                                </div>
                                <p class="text-gray-300 text-sm">Gerencie atributos, XP, vida, mana e destino do personagem.</p>
                                <div class="mt-4 flex items-center text-theme-orange text-sm">
                                    <span>Acessar</span>
                                    <i data-lucide="arrow-right" class="w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"></i>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- SISTEMA (Classe + Perfil + Backup) -->
                <div class="relative group dropdown-container">
                    <button onclick="toggleMenu('menu-sistema', this)" class="nav-btn flex items-center gap-2 px-5 py-4 text-[#e8e4dc] font-medium tracking-wide transition-all duration-300 hover:text-[#f59e0b] hover:bg-[#1a1a1e] border-b-2 border-transparent hover:border-[#f59e0b]">
                        <i data-lucide="settings" class="w-4 h-4"></i>
                        <span class="font-cinzel">Sistema</span>
                        <i data-lucide="chevron-down" class="w-4 h-4 chevron"></i>
                    </button>
                    <div id="menu-sistema" class="dropdown-content absolute top-full left-0 min-w-[220px] bg-[#0f0f12] border border-[#2a2a2e] shadow-2xl shadow-black/50 z-50">
                        <a href="classes.html" class="flex items-center gap-2 px-5 py-3 text-[#a0a0a0] text-sm transition-all duration-300 hover:bg-[#8b5cf6]/10 hover:text-[#8b5cf6] hover:pl-7 border-l-2 border-transparent hover:border-[#8b5cf6]">
                            <i data-lucide="swords" class="w-3 h-3"></i> Classes
                        </a>
                        <a href="perfis.html" class="flex items-center gap-2 px-5 py-3 text-[#a0a0a0] text-sm transition-all duration-300 hover:bg-[#ec4899]/10 hover:text-[#ec4899] hover:pl-7 border-l-2 border-transparent hover:border-[#ec4899]">
                            <i data-lucide="users" class="w-3 h-3"></i> Perfis
                        </a>
                        <a href="backup.html" class="flex items-center gap-2 px-5 py-3 text-[#a0a0a0] text-sm transition-all duration-300 hover:bg-[#f59e0b]/10 hover:text-[#f59e0b] hover:pl-7 border-l-2 border-transparent hover:border-[#f59e0b]">
                            <i data-lucide="hard-drive" class="w-3 h-3"></i> Backup
                        </a>
                    </div>
                </div>

                <!-- CONJUNTO (Habilidades + Itens + Proficiências) -->
                <div class="relative group dropdown-container">
                    <button onclick="toggleMenu('menu-conjunto', this)" class="nav-btn flex items-center gap-2 px-5 py-4 text-[#e8e4dc] font-medium tracking-wide transition-all duration-300 hover:text-[#4a9eff] hover:bg-[#1a1a1e] border-b-2 border-transparent hover:border-[#4a9eff]">
                        <i data-lucide="layers" class="w-4 h-4"></i>
                        <span class="font-cinzel">Conjunto</span>
                        <i data-lucide="chevron-down" class="w-4 h-4 chevron"></i>
                    </button>
                    <div id="menu-conjunto" class="dropdown-content absolute top-full left-0 min-w-[220px] bg-[#0f0f12] border border-[#2a2a2e] shadow-2xl shadow-black/50 z-50">
                        <a href="habilidades.html" class="flex items-center gap-2 px-5 py-3 text-[#a0a0a0] text-sm transition-all duration-300 hover:bg-[#4a9eff]/10 hover:text-[#4a9eff] hover:pl-7 border-l-2 border-transparent hover:border-[#4a9eff]">
                            <i data-lucide="sparkles" class="w-3 h-3"></i> Habilidades
                        </a>
                        <a href="inventario.html" class="flex items-center gap-2 px-5 py-3 text-[#a0a0a0] text-sm transition-all duration-300 hover:bg-[#4a9eff]/10 hover:text-[#4a9eff] hover:pl-7 border-l-2 border-transparent hover:border-[#4a9eff]">
                            <i data-lucide="backpack" class="w-3 h-3"></i> Itens
                        </a>
                        <a href="proficiencias.html" class="flex items-center gap-2 px-5 py-3 text-[#a0a0a0] text-sm transition-all duration-300 hover:bg-[#4a9eff]/10 hover:text-[#4a9eff] hover:pl-7 border-l-2 border-transparent hover:border-[#4a9eff]">
                            <i data-lucide="award" class="w-3 h-3"></i> Proficiências
                        </a>
                    </div>
                </div>

                <!-- MASCOTE (Apenas Mascote) -->
                <a href="mascote.html" class="flex items-center gap-2 px-5 py-4 text-[#e8e4dc] font-medium tracking-wide transition-all duration-300 hover:text-[#10b981] hover:bg-[#1a1a1e] border-b-2 border-transparent hover:border-[#10b981]">
                    <i data-lucide="dog" class="w-4 h-4"></i>
                    <span class="font-cinzel">Mascote</span>
                </a>

            </div>
        </div>
        <div class="h-[2px] bg-gradient-to-r from-transparent via-[#4a9eff] to-transparent"></div>
    </nav>

    <main class="flex-grow">
        <!-- Banner Hero -->
        <div class="relative w-full h-[30vh] min-h-[250px] overflow-hidden anim-entry">
            <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=1600&q=80');"></div>
            <div class="absolute inset-0 bg-gradient-to-t from-[#0a0a0c] via-[#0a0a0c]/60 to-transparent"></div>
            <div class="absolute inset-0 bg-gradient-to-r from-[#0a0a0c]/80 via-transparent to-[#0a0a0c]/80"></div>
            
            <div class="absolute inset-0 flex flex-col items-center justify-center z-10">
                <h1 class="font-cinzel text-4xl md:text-6xl font-bold text-theme-text tracking-widest text-shadow-glow mb-4">Grimório Digital</h1>
                
                <div class="w-32 h-[2px] bg-gradient-to-r from-transparent via-theme-blue to-transparent"></div>
                
                <p class="text-[#a0a0a0] mt-3 tracking-[0.3em] text-sm font-light">HUB CENTRAL</p>
            </div>
            
            <div class="absolute bottom-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-theme-blue/50 to-transparent"></div>
        </div>
        
        <!-- SEÇÃO PERFIL ATIVO -->
        <div class="max-w-6xl mx-auto px-4 py-8 anim-entry anim-delay-1">
            <div class="bg-theme-panel border border-theme-border p-6 rounded-lg hover:border-theme-blue/30 transition-all duration-300">
                <h3 class="flex items-center gap-2 font-cinzel text-lg font-semibold text-theme-blue mb-4">
                    <i data-lucide="user-check" class="w-5 h-5"></i>
                    Perfil Ativo
                </h3>
                
                <div id="perfil-ativo-container" class="flex flex-col md:flex-row items-center md:items-start gap-4 p-4 bg-[#0a0a0c] rounded border border-theme-border">
                    <!-- Avatar será carregado aqui -->
                    <div id="perfil-avatar" class="w-24 h-24 rounded-lg border-2 border-theme-border bg-cover bg-center flex-shrink-0 flex items-center justify-center overflow-hidden">
                        <i data-lucide="user" class="w-10 h-10 text-[#606060]"></i>
                    </div>
                    
                    <div class="flex-grow text-center md:text-left">
                        <div id="perfil-sem-dados">
                            <p class="text-[#606060] mb-2">Nenhum perfil ativo encontrado.</p>
                            <button onclick="criarNovoPerfil()" class="inline-flex items-center gap-2 text-theme-blue hover:text-theme-orange transition-colors text-sm">
                                <i data-lucide="plus" class="w-3 h-3"></i>
                                Criar seu primeiro perfil
                            </button>
                        </div>
                        
                        <div id="perfil-com-dados" class="hidden">
                            <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
                                <div>
                                    <h4 id="perfil-nome" class="font-cinzel font-bold text-white text-xl"></h4>
                                    <div class="flex flex-wrap gap-2 mt-2">
                                        <span id="perfil-classe" class="px-3 py-1 bg-[#4a9eff]/10 text-theme-blue text-xs rounded-full border border-theme-border"></span>
                                        <span id="perfil-raca" class="px-3 py-1 bg-[#ff6b35]/10 text-theme-orange text-xs rounded-full border border-theme-border"></span>
                                        <span id="perfil-nivel" class="px-3 py-1 bg-[#10b981]/10 text-[#10b981] text-xs rounded-full border border-theme-border"></span>
                                    </div>
                                    <p id="perfil-titulo" class="text-[#a0a0a0] text-sm mt-2 italic"></p>
                                </div>
                                
                                <button onclick="entrarNoPerfil()" class="flex items-center gap-2 px-4 py-2 bg-theme-blue hover:bg-[#3a7bd5] text-white rounded transition-colors text-sm">
                                    <i data-lucide="log-in" class="w-3 h-3"></i>
                                    Entrar no Perfil
                                </button>
                            </div>
                            
                            <div class="mt-4 pt-4 border-t border-theme-border flex gap-3 text-xs text-[#606060]">
                                <div class="flex items-center gap-1">
                                    <i data-lucide="calendar" class="w-3 h-3"></i>
                                    <span id="perfil-criacao"></span>
                                </div>
                                <span>•</span>
                                <div class="flex items-center gap-1">
                                    <i data-lucide="refresh-cw" class="w-3 h-3"></i>
                                    <span id="perfil-atualizacao"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- OS 4 ÍCONES PRINCIPAIS -->
        <div class="max-w-6xl mx-auto px-4 pb-8 anim-entry anim-delay-2">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                
                <!-- ÍCONE 1: PERFIL (Ficha + Status) -->
                <div class="icon-card group p-5 bg-theme-panel border border-theme-border hover-glow-blue transition-all duration-300 rounded-lg h-full">
                    <div class="flex flex-col items-center text-center h-full">
                        <div class="p-3 rounded-full bg-[#4a9eff]/10 text-theme-blue mb-4">
                            <i data-lucide="user-circle" class="w-8 h-8"></i>
                        </div>
                        <h4 class="font-cinzel font-semibold text-white mb-2">Perfil</h4>
                        <p class="text-[#a0a0a0] text-sm mb-4">Ficha + Status</p>
                        <div class="mt-auto w-full">
                            <div class="h-px bg-theme-border mb-3"></div>
                            <div class="text-left">
                                <div class="flex items-center gap-2 text-xs text-[#a0a0a0] mb-1">
                                    <i data-lucide="scroll-text" class="w-3 h-3 text-theme-blue"></i>
                                    <span>Ficha Completa</span>
                                </div>
                                <div class="flex items-center gap-2 text-xs text-[#a0a0a0]">
                                    <i data-lucide="zap" class="w-3 h-3 text-theme-orange"></i>
                                    <span>Status e Atributos</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ÍCONE 2: SISTEMA (Classe + Perfil + Backup) -->
                <div class="icon-card group p-5 bg-theme-panel border border-theme-border hover:border-[#8b5cf6]/50 transition-all duration-300 rounded-lg h-full">
                    <div class="flex flex-col items-center text-center h-full">
                        <div class="p-3 rounded-full bg-[#8b5cf6]/10 text-[#8b5cf6] mb-4">
                            <i data-lucide="settings" class="w-8 h-8"></i>
                        </div>
                        <h4 class="font-cinzel font-semibold text-white mb-2">Sistema</h4>
                        <p class="text-[#a0a0a0] text-sm mb-4">Classe + Perfil + Backup</p>
                        <div class="mt-auto w-full">
                            <div class="h-px bg-theme-border mb-3"></div>
                            <div class="text-left">
                                <div class="flex items-center gap-2 text-xs text-[#a0a0a0] mb-1">
                                    <i data-lucide="swords" class="w-3 h-3 text-[#8b5cf6]"></i>
                                    <span>Sistema de Classes</span>
                                </div>
                                <div class="flex items-center gap-2 text-xs text-[#a0a0a0] mb-1">
                                    <i data-lucide="users" class="w-3 h-3 text-[#ec4899]"></i>
                                    <span>Gerenciar Perfis</span>
                                </div>
                                <div class="flex items-center gap-2 text-xs text-[#a0a0a0]">
                                    <i data-lucide="hard-drive" class="w-3 h-3 text-[#f59e0b]"></i>
                                    <span>Backup e Salvamento</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ÍCONE 3: CONJUNTO (Habilidades + Itens + Proficiências) -->
                <div class="icon-card group p-5 bg-theme-panel border border-theme-border hover:border-[#ff6b35]/50 transition-all duration-300 rounded-lg h-full">
                    <div class="flex flex-col items-center text-center h-full">
                        <div class="p-3 rounded-full bg-[#ff6b35]/10 text-[#ff6b35] mb-4">
                            <i data-lucide="layers" class="w-8 h-8"></i>
                        </div>
                        <h4 class="font-cinzel font-semibold text-white mb-2">Conjunto</h4>
                        <p class="text-[#a0a0a0] text-sm mb-4">Habilidades + Itens + Proficiências</p>
                        <div class="mt-auto w-full">
                            <div class="h-px bg-theme-border mb-3"></div>
                            <div class="text-left">
                                <div class="flex items-center gap-2 text-xs text-[#a0a0a0] mb-1">
                                    <i data-lucide="sparkles" class="w-3 h-3 text-theme-blue"></i>
                                    <span>Habilidades de Combate</span>
                                </div>
                                <div class="flex items-center gap-2 text-xs text-[#a0a0a0] mb-1">
                                    <i data-lucide="backpack" class="w-3 h-3 text-theme-blue"></i>
                                    <span>Inventário e Itens</span>
                                </div>
                                <div class="flex items-center gap-2 text-xs text-[#a0a0a0]">
                                    <i data-lucide="award" class="w-3 h-3 text-theme-blue"></i>
                                    <span>Proficiências e Talentos</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ÍCONE 4: MASCOTE -->
                <div class="icon-card group p-5 bg-theme-panel border border-theme-border hover:border-[#10b981]/50 transition-all duration-300 rounded-lg h-full">
                    <div class="flex flex-col items-center text-center h-full">
                        <div class="p-3 rounded-full bg-[#10b981]/10 text-[#10b981] mb-4">
                            <i data-lucide="dog" class="w-8 h-8"></i>
                        </div>
                        <h4 class="font-cinzel font-semibold text-white mb-2">Mascote</h4>
                        <p class="text-[#a0a0a0] text-sm mb-4">Companheiro de Aventura</p>
                        <div class="mt-auto w-full">
                            <div class="h-px bg-theme-border mb-3"></div>
                            <div class="text-left">
                                <div class="flex items-center gap-2 text-xs text-[#a0a0a0] mb-1">
                                    <i data-lucide="heart" class="w-3 h-3 text-[#10b981]"></i>
                                    <span>Status do Mascote</span>
                                </div>
                                <div class="flex items-center gap-2 text-xs text-[#a0a0a0] mb-1">
                                    <i data-lucide="star" class="w-3 h-3 text-[#10b981]"></i>
                                    <span>Habilidades Especiais</span>
                                </div>
                                <div class="flex items-center gap-2 text-xs text-[#a0a0a0]">
                                    <i data-lucide="shield" class="w-3 h-3 text-[#10b981]"></i>
                                    <span>Equipamentos Exclusivos</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- EXPLICAÇÕES DETALHADAS -->
        <div class="max-w-6xl mx-auto px-4 pb-12 anim-entry anim-delay-3">
            <div class="grid md:grid-cols-2 gap-6">
                
                <!-- PERFIL -->
                <div class="bg-theme-panel border border-theme-border p-6 hover:border-theme-blue/30 transition-all duration-500 rounded">
                    <div class="flex items-center gap-3 mb-4 pb-4 border-b border-theme-border">
                        <div class="p-2 rounded bg-[#4a9eff]/15 text-theme-blue">
                            <i data-lucide="user-circle" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-cinzel text-lg font-semibold text-theme-blue">Perfil (Ficha + Status)</h3>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <span class="text-theme-text font-medium block">Ficha:</span>
                            <p class="text-[#808080] text-sm leading-relaxed mt-1">A identidade completa do personagem: aparência detalhada (slots de corpo), história, personalidade, backstory e todas as informações narrativas que definem quem ele é.</p>
                        </div>
                        <div>
                            <span class="text-theme-text font-medium block">Status:</span>
                            <p class="text-[#808080] text-sm leading-relaxed mt-1">A parte mecânica: atributos numéricos (força, agilidade, inteligência), pontos de vida/mana, perícias e todos os cálculos necessários para o jogo.</p>
                        </div>
                    </div>
                </div>

                <!-- SISTEMA -->
                <div class="bg-theme-panel border border-theme-border p-6 hover:border-[#8b5cf6]/30 transition-all duration-500 rounded">
                    <div class="flex items-center gap-3 mb-4 pb-4 border-b border-theme-border">
                        <div class="p-2 rounded bg-[#8b5cf6]/15 text-[#8b5cf6]">
                            <i data-lucide="settings" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-cinzel text-lg font-semibold text-[#8b5cf6]">Sistema (Classe + Perfil + Backup)</h3>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <span class="text-theme-text font-medium block">Classe:</span>
                            <p class="text-[#808080] text-sm leading-relaxed mt-1">Sistema completo de classes personalizáveis com atributos customizados, habilidades especiais, progressão e aparência visual adaptável ao seu estilo de jogo.</p>
                        </div>
                        <div>
                            <span class="text-theme-text font-medium block">Perfil:</span>
                            <p class="text-[#808080] text-sm leading-relaxed mt-1">Gerenciamento de múltiplos personagens, troca entre perfis ativos e organização centralizada de todas as fichas criadas.</p>
                        </div>
                        <div>
                            <span class="text-theme-text font-medium block">Backup:</span>
                            <p class="text-[#808080] text-sm leading-relaxed mt-1">Exportação e importação de dados completos, salvamento em nuvem e recuperação de personagens em qualquer dispositivo.</p>
                        </div>
                    </div>
                </div>

                <!-- CONJUNTO -->
                <div class="bg-theme-panel border border-theme-border p-6 hover:border-[#ff6b35]/30 transition-all duration-500 rounded">
                    <div class="flex items-center gap-3 mb-4 pb-4 border-b border-theme-border">
                        <div class="p-2 rounded bg-[#ff6b35]/15 text-[#ff6b35]">
                            <i data-lucide="layers" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-cinzel text-lg font-semibold text-[#ff6b35]">Conjunto (Habilidades + Itens + Proficiências)</h3>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <span class="text-theme-text font-medium block">Habilidades:</span>
                            <p class="text-[#808080] text-sm leading-relaxed mt-1">Poderes ativos de combate, magias, técnicas especiais e habilidades únicas que podem ser usadas em batalha ou situações específicas.</p>
                        </div>
                        <div>
                            <span class="text-theme-text font-medium block">Itens:</span>
                            <p class="text-[#808080] text-sm leading-relaxed mt-1">Inventário completo com armas, armaduras, consumíveis, equipamentos mágicos e todos os objetos coletados durante a aventura.</p>
                        </div>
                        <div>
                            <span class="text-theme-text font-medium block">Proficiências:</span>
                            <p class="text-[#808080] text-sm leading-relaxed mt-1">Talentos passivos, ofícios (ferreiro, alquimia, culinária), perícias sociais e maestria com tipos específicos de armas ou magias.</p>
                        </div>
                    </div>
                </div>

                <!-- MASCOTE -->
                <div class="bg-theme-panel border border-theme-border p-6 hover:border-[#10b981]/30 transition-all duration-500 rounded">
                    <div class="flex items-center gap-3 mb-4 pb-4 border-b border-theme-border">
                        <div class="p-2 rounded bg-[#10b981]/15 text-[#10b981]">
                            <i data-lucide="dog" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-cinzel text-lg font-semibold text-[#10b981]">Mascote</h3>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <span class="text-theme-text font-medium block">Companheiro:</span>
                            <p class="text-[#808080] text-sm leading-relaxed mt-1">Cada personagem pode ter um mascote com sistema próprio de evolução, níveis, habilidades especiais e equipamentos exclusivos.</p>
                        </div>
                        <div>
                            <span class="text-theme-text font-medium block">Sistema Próprio:</span>
                            <p class="text-[#808080] text-sm leading-relaxed mt-1">O mascote possui sua própria mini-ficha com status, árvore de habilidades, equipamentos especiais e interações únicas com o personagem principal.</p>
                        </div>
                        <div>
                            <span class="text-theme-text font-medium block">Sinergia:</span>
                            <p class="text-[#808080] text-sm leading-relaxed mt-1">Certas habilidades do personagem podem ser aprimoradas ou novas podem ser desbloqueadas com base no mascote escolhido e em seu nível de vínculo.</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <footer class="border-t border-theme-border py-8 mt-auto">
        <div class="flex justify-center items-center gap-4">
            <div class="w-16 h-[1px] bg-gradient-to-r from-transparent to-[#4a9eff]/50"></div>
            <i data-lucide="sword" class="w-4 h-4 text-[#4a9eff]/50 rotate-90 md:rotate-0"></i>
            <div class="w-16 h-[1px] bg-gradient-to-l from-transparent to-[#4a9eff]/50"></div>
        </div>
        <p class="text-center text-[#606060] text-xs mt-4">Grimório Digital - Sistema de RPG v1.0</p>
    </footer>

    <script>
        // 1. Inicializar Ícones Lucide
        if (window.lucide) {
            lucide.createIcons();
        }

        // 2. Lógica dos Dropdowns
        function toggleMenu(menuId, btnElement) {
            const menu = document.getElementById(menuId);
            const chevron = btnElement.querySelector('.chevron');
            const isActive = menu.classList.contains('active');

            closeAllMenus();

            if (!isActive) {
                menu.classList.add('active');
                if(chevron) chevron.classList.add('rotate');
            }
        }

        function closeAllMenus() {
            document.querySelectorAll('.dropdown-content').forEach(el => {
                el.classList.remove('active');
            });
            document.querySelectorAll('.chevron').forEach(el => {
                el.classList.remove('rotate');
            });
        }

        window.addEventListener('click', function(e) {
            if (!e.target.closest('.dropdown-container')) {
                closeAllMenus();
            }
        });

        // 3. Sistema de Perfil Ativo
        function carregarPerfilAtivo() {
            const dadosSalvos = localStorage.getItem('grimorio_perfil_ativo');
            const containerVazio = document.getElementById('perfil-sem-dados');
            const containerComDados = document.getElementById('perfil-com-dados');
            const avatarContainer = document.getElementById('perfil-avatar');
            
            if (!dadosSalvos) {
                // Mostrar estado vazio
                if (containerVazio) containerVazio.classList.remove('hidden');
                if (containerComDados) containerComDados.classList.add('hidden');
                if (avatarContainer) {
                    avatarContainer.style.backgroundImage = '';
                    avatarContainer.innerHTML = '<i data-lucide="user" class="w-10 h-10 text-[#606060]"></i>';
                    if (window.lucide) lucide.createIcons();
                }
                return;
            }
            
            try {
                const dados = JSON.parse(dadosSalvos);
                
                // Mostrar container com dados
                if (containerVazio) containerVazio.classList.add('hidden');
                if (containerComDados) containerComDados.classList.remove('hidden');
                
                // Preencher informações
                if (document.getElementById('perfil-nome')) {
                    document.getElementById('perfil-nome').textContent = dados.nome || dados['inp-nome'] || 'Sem nome';
                }
                if (document.getElementById('perfil-titulo')) {
                    document.getElementById('perfil-titulo').textContent = dados.titulo || dados['inp-titulo'] || 'Aventureiro sem título';
                }
                if (document.getElementById('perfil-classe')) {
                    document.getElementById('perfil-classe').textContent = dados.classe || dados['inp-classe'] || 'Sem classe';
                }
                if (document.getElementById('perfil-raca')) {
                    document.getElementById('perfil-raca').textContent = dados.raca || dados['inp-raca'] || 'Sem raça';
                }
                if (document.getElementById('perfil-nivel')) {
                    const nivel = dados.nivel || dados['inp-nivel'] || 1;
                    document.getElementById('perfil-nivel').textContent = `Nível ${nivel}`;
                }
                
                // Carregar avatar (imagem salva ao finalizar a ficha)
                if (avatarContainer && dados.avatar) {
                    avatarContainer.style.backgroundImage = `url(${dados.avatar})`;
                    avatarContainer.style.backgroundSize = 'cover';
                    avatarContainer.style.backgroundPosition = 'center';
                    avatarContainer.innerHTML = ''; // Remove o ícone padrão
                }
                
                // Formatar datas
                if (dados.dataCriacao) {
                    const dataCriacao = new Date(dados.dataCriacao);
                    document.getElementById('perfil-criacao').textContent = 
                        `Criado em ${dataCriacao.toLocaleDateString('pt-BR')}`;
                }
                
                if (dados.ultimaAtualizacao) {
                    const dataAtualizacao = new Date(dados.ultimaAtualizacao);
                    const agora = new Date();
                    const diferencaMin = Math.floor((agora - dataAtualizacao) / (1000 * 60));
                    
                    let textoAtualizacao;
                    if (diferencaMin < 1) {
                        textoAtualizacao = 'Atualizado agora';
                    } else if (diferencaMin < 60) {
                        textoAtualizacao = `Atualizado há ${diferencaMin} min`;
                    } else if (diferencaMin < 1440) {
                        textoAtualizacao = `Atualizado hoje às ${dataAtualizacao.toLocaleTimeString('pt-BR', {hour: '2-digit', minute:'2-digit'})}`;
                    } else {
                        textoAtualizacao = `Atualizado em ${dataAtualizacao.toLocaleDateString('pt-BR')}`;
                    }
                    
                    document.getElementById('perfil-atualizacao').textContent = textoAtualizacao;
                }
                
            } catch (error) {
                console.error('Erro ao carregar perfil ativo:', error);
                // Em caso de erro, mostrar estado vazio
                if (containerVazio) containerVazio.classList.remove('hidden');
                if (containerComDados) containerComDados.classList.add('hidden');
            }
        }
        
        function criarNovoPerfil() {
            // Simulação: em um sistema real, isso redirecionaria para a criação de ficha
            alert('Redirecionando para criação de novo perfil...\n\nAqui você preencherá a ficha completa e poderá salvar uma imagem do personagem ao finalizar.');
            
            // Criar dados de exemplo para demonstração
            const novoPerfil = {
                nome: "Elara Silvershadow",
                titulo: "Ladina das Sombras",
                classe: "Ladino",
                raca: "Elfo Noturno",
                nivel: 3,
                avatar: "https://images.unsplash.com/photo-1546182990-dffeafbe841d?w=400&h=400&fit=crop&crop=face",
                dataCriacao: new Date().toISOString(),
                ultimaAtualizacao: new Date().toISOString()
            };
            
            // Salvar no localStorage
            localStorage.setItem('grimorio_perfil_ativo', JSON.stringify(novoPerfil));
            
            // Recarregar para mostrar o novo perfil
            carregarPerfilAtivo();
            
            // Feedback visual
            mostrarFeedback('Perfil criado com sucesso!', 'success');
        }
        
        function entrarNoPerfil() {
            // Verificar se há perfil ativo
            const dadosSalvos = localStorage.getItem('grimorio_perfil_ativo');
            if (!dadosSalvos) {
                mostrarFeedback('Nenhum perfil ativo encontrado. Crie um perfil primeiro.', 'error');
                return;
            }
            
            // Em um sistema real, isso redirecionaria para a página do perfil (que contém ficha + status)
            mostrarFeedback('Abrindo perfil... Redirecionando para Ficha e Status.', 'info');
            
            // Simulação: mostrar detalhes do perfil
            try {
                const perfil = JSON.parse(dadosSalvos);
                alert(`Acessando perfil de: ${perfil.nome}\n\nClasse: ${perfil.classe}\nRaça: ${perfil.raca}\nNível: ${perfil.nivel}\n\nNa versão completa, isso abriria a página com Ficha e Status do personagem.`);
            } catch (error) {
                console.error('Erro ao acessar perfil:', error);
            }
        }
        
        function mostrarFeedback(mensagem, tipo) {
            const cores = {
                success: 'bg-green-900/20 border-green-700 text-green-300',
                error: 'bg-red-900/20 border-red-700 text-red-300',
                info: 'bg-blue-900/20 border-blue-700 text-blue-300'
            };
            
            const feedback = document.createElement('div');
            feedback.className = `fixed top-4 right-4 px-4 py-3 rounded-lg ${cores[tipo] || cores.info} border z-[100] animate-fadeIn`;
            feedback.textContent = mensagem;
            document.body.appendChild(feedback);
            
            setTimeout(() => {
                feedback.classList.add('opacity-0', 'transition-opacity', 'duration-500');
                setTimeout(() => feedback.remove(), 500);
            }, 3000);
        }

        // 5. Inicializar
        document.addEventListener('DOMContentLoaded', function() {
            // Carregar perfil ativo
            carregarPerfilAtivo();
            
            // Simular recebimento de dados após um tempo
            setTimeout(simularRecebimentoDados, 2000);
            
            // Atualizar periodicamente (caso o perfil seja editado em outra aba)
            setInterval(carregarPerfilAtivo, 5000);
        });
        
        // 6. Adicionar estilo para animação de feedback
        const estiloAnimacao = document.createElement('style');
        estiloAnimacao.textContent = `
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(-10px); }
                to { opacity: 1; transform: translateY(0); }
            }
            .animate-fadeIn { animation: fadeIn 0.3s ease-out; }
            
            .icon-card {
                cursor: default;
            }
            
            .icon-card:hover .icon {
                transform: scale(1.1);
                transition: transform 0.3s ease;
            }
        `;
        document.head.appendChild(estiloAnimacao);
        // Função para compartilhar dados entre páginas
        function getActiveProfileData() {
            const activeProfile = getActiveProfile();
            return activeProfile ? activeProfile.data : null;
        }

        // Função para verificar se há perfil ativo
        function hasActiveProfile() {
            return getActiveProfile() !== null;
        }

        // Função para obter informações do perfil
        function getActiveProfileInfo() {
            const profile = getActiveProfile();
            if (!profile) return null;
            
            return {
                id: profile.id,
                name: profile.name,
                classe: profile.classe || 'Não definida',
                raca: profile.raca || 'Não definida',
                nivel: profile.nivel || 1
            };
        }
    </script>
</body>
</html>